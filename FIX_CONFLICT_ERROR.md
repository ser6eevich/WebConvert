# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ "Conflict: terminated by other getUpdates request"

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ –±–æ—Ç —á–µ—Ä–µ–∑ systemd

```bash
sudo systemctl status WebConvert
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ –±–æ—Ç –≤—Ä—É—á–Ω—É—é

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å—ã WebConvert
ps aux | grep WebConvert | grep -v grep

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã bot.py
ps aux | grep bot.py | grep -v grep
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å `/root/WebConvert/bot.py`, –∑–Ω–∞—á–∏—Ç –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑.

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `/root/Milo-bot/bot.py` - —ç—Ç–æ –¥—Ä—É–≥–æ–π –±–æ—Ç, –Ω–µ –Ω–∞—à.

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ backend

```bash
sudo systemctl status webapp
ps aux | grep server.py
```

## üîß –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –±–æ—Ç–∞ WebConvert

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ systemd —Å–µ—Ä–≤–∏—Å
sudo systemctl stop WebConvert

# –ù–∞–π–¥–∏—Ç–µ –∏ —É–±–µ–π—Ç–µ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã WebConvert (–ù–ï —Ç—Ä–æ–≥–∞–π—Ç–µ –¥—Ä—É–≥–∏–µ –±–æ—Ç—ã!)
pkill -f "WebConvert.*bot.py"
pkill -f "/root/WebConvert/bot.py"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ WebConvert –±–æ–ª—å—à–µ –Ω–µ—Ç
ps aux | grep WebConvert | grep -v grep
```

**–í–∞–∂–Ω–æ:** –ö–æ–º–∞–Ω–¥—ã `pkill -f "bot.py"` —É–±—å—é—Ç –í–°–ï –±–æ—Ç—ã, –≤–∫–ª—é—á–∞—è Milo-bot! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã—à–µ.

### –®–∞–≥ 2: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
sudo systemctl status webapp

# –ï—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω, –∑–∞–ø—É—Å—Ç–∏—Ç–µ
sudo systemctl start webapp

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–ª—É—à–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8000
sudo netstat -tulpn | grep 8000
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ systemd

```bash
sudo systemctl start WebConvert
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å

```bash
sudo systemctl status WebConvert
sudo systemctl status webapp
```

–û–±–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å `active (running)`.

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞

```bash
sudo journalctl -u WebConvert -n 20
```

–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ `Conflict`.

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ backend

```bash
curl http://localhost:8000/health
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON.

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω

```bash
curl https://ikurganskiy.ru/health
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON (–Ω–µ 502).

## üö´ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–í–∞–∂–Ω–æ:** –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ systemd –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –ù–ï –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –±–æ—Ç–∞ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ `python bot.py`, –µ—Å–ª–∏ –æ–Ω —É–∂–µ –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ systemd!

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. –°–Ω–∞—á–∞–ª–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ systemd —Å–µ—Ä–≤–∏—Å: `sudo systemctl stop WebConvert`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –¥–ª—è —Ç–µ—Å—Ç–∞
3. –ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Ä—É—á–Ω—É—é: `Ctrl+C`
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ systemd: `sudo systemctl start WebConvert`
