# üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ NVENC

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏, –ø–æ—á–µ–º—É NVENC –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

## –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
cd /root/WebConvert
cat .env | grep FFMPEG
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏:

```env
FFMPEG_PRESET=veryfast
FFMPEG_HWACCEL=nvenc
```

–ò–ª–∏:

```env
FFMPEG_PRESET=veryfast
FFMPEG_HWACCEL=auto
```

## –®–∞–≥ 2: –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç, –¥–æ–±–∞–≤—å—Ç–µ –∏—Ö

```bash
nano /root/WebConvert/.env
```

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞:

```env
FFMPEG_PRESET=veryfast
FFMPEG_HWACCEL=nvenc
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ (Ctrl+O, Enter, Ctrl+X).

## –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
sudo systemctl restart WebConvert
```

## –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

```bash
sudo journalctl -u WebConvert -f
```

–¢–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è:

- `üîç –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–∫–æ—Ä–µ–Ω–∏—è: FFMPEG_HWACCEL=nvenc, FFMPEG_PRESET=veryfast`
- `‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ: NVIDIA NVENC`
- `üöÄ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è NVIDIA NVENC`

## –®–∞–≥ 5: –ï—Å–ª–∏ NVENC –≤—Å–µ –µ—â–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:

–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

- `üîç –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–∫–æ—Ä–µ–Ω–∏—è: {'type': 'nvenc', 'encoder': 'h264_nvenc', 'available': True}`

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `'available': False`, –∑–Ω–∞—á–∏—Ç —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç NVENC.

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ .env**

   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `.env` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `/root/WebConvert/.env`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: `ls -la /root/WebConvert/.env`

2. **FFmpeg –Ω–µ –≤–∏–¥–∏—Ç NVENC –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ**

   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä—É—á–Ω—É—é: `ffmpeg -encoders | grep nvenc`
   - –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `h264_nvenc`, –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

3. **–î—Ä–∞–π–≤–µ—Ä—ã NVIDIA –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `nvidia-smi`
   - –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä–∞–π–≤–µ—Ä—ã NVIDIA

## –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ `.env` –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞, –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NVENC –∏ –±—ã—Ç—å –≤ 4-6 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ!
