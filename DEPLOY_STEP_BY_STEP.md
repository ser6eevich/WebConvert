# üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –æ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø—Ä–æ–≤–µ–¥–µ—Ç –≤–∞—Å —á–µ—Ä–µ–∑ –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å: –æ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞ –¥–æ –ø–æ–ª–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –≤–∞—à–∏–º –¥–æ–º–µ–Ω–æ–º.

## üìã –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞ –ª–æ–∫–∞–ª—å–Ω–æ
2. üì¶ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤ –∫ –∑–∞–≥—Ä—É–∑–∫–µ
3. üñ•Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
4. üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS (–ø—Ä–∏–≤—è–∑–∫–∞ –¥–æ–º–µ–Ω–∞)
5. üì§ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
6. ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Web App —Å –¥–æ–º–µ–Ω–æ–º
7. ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

---

## ‚úÖ –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞ –ª–æ–∫–∞–ª—å–Ω–æ

### 1.1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ FFmpeg —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

```bash
ffmpeg -version
```

–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ FFmpeg (—Å–º. `FFMPEG_INSTALL_WINDOWS.md`).

### 1.2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` —Ñ–∞–π–ª–µ (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞) –µ—Å—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
OPENAI_API_KEY=–≤–∞—à_openai_–∫–ª—é—á
GPT_ASSISTANT_ID=asst_xxxxx
GPT_ASSISTANT_ID_VIDEOS=asst_xxxxx
```

### 1.3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
python bot.py
```

### 1.4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –±–æ—Ç–∞
2. –ù–∞–∂–º–∏—Ç–µ `/start`
3. –ù–∞–∂–º–∏—Ç–µ "üìπ –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä"
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–µ–±–æ–ª—å—à–æ–µ –≤–∏–¥–µ–æ (–¥–æ 50MB) –∏–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∏–¥–µ–æ
5. –î–æ–∂–¥–∏—Ç–µ—Å—å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–æ—Ç –¥–æ–ª–∂–µ–Ω —Å–∫–∞—á–∞—Ç—å –≤–∏–¥–µ–æ, —Å–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ MP4 1920x1080 –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ.

### 1.5. –ï—Å–ª–∏ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç

‚úÖ **–û—Ç–ª–∏—á–Ω–æ!** –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É.

‚ùå **–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ –Ω–∞ –æ—à–∏–±–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ FFmpeg —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∏–¥–µ–æ —Ñ–∞–π–ª –Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω

---

## üì¶ –®–∞–≥ 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤ –∫ –∑–∞–≥—Ä—É–∑–∫–µ

### 2.1. –°–æ–∑–¥–∞–π—Ç–µ —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏

–í–∞–º –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

```
telegram-bot/
‚îú‚îÄ‚îÄ bot.py
‚îú‚îÄ‚îÄ video_converter.py
‚îú‚îÄ‚îÄ text_generator.py
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ .env (—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏)
‚îî‚îÄ‚îÄ webapp/
    ‚îú‚îÄ‚îÄ server.py
    ‚îú‚îÄ‚îÄ requirements.txt
    ‚îî‚îÄ‚îÄ .env (—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–ª—è backend)
```

### 2.2. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ `.env` —Ñ–∞–π–ª—ã

#### A. `.env` –¥–ª—è –±–æ—Ç–∞ (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)

```env
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
OPENAI_API_KEY=–≤–∞—à_openai_–∫–ª—é—á
GPT_ASSISTANT_ID=asst_xxxxx
GPT_ASSISTANT_ID_VIDEOS=asst_xxxxx

# –õ–æ–∫–∞–ª—å–Ω—ã–π Bot API (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)
TELEGRAM_LOCAL_API_URL=http://localhost:8081

# URL –¥–ª—è Web App (–ø–æ–∫–∞ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –Ω–∞—Å—Ç—Ä–æ–∏–º –ø–æ–∑–∂–µ)
VIDEO_WEBAPP_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.com/upload
```

**–í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç–µ `–≤–∞—à-–¥–æ–º–µ–Ω.com` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω!

#### B. `webapp/.env` –¥–ª—è backend

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `webapp/.env`:

```env
# –ü—É–±–ª–∏—á–Ω—ã–π URL –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞ (–ë–ï–ó —Å–ª–µ—à–∞ –≤ –∫–æ–Ω—Ü–µ!)
PUBLIC_BASE_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.com

# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–∏–¥–µ–æ
VIDEOS_DIR=videos

# –ü–æ—Ä—Ç –¥–ª—è backend —Å–µ—Ä–≤–µ—Ä–∞
WEBAPP_PORT=8000

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –≤ –±–∞–π—Ç–∞—Ö (2GB)
MAX_FILE_SIZE=2147483648
```

**–í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç–µ `–≤–∞—à-–¥–æ–º–µ–Ω.com` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω!

### 2.3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –ø–∞–ø–∫–∞ `webapp/` —Å —Ñ–∞–π–ª–∞–º–∏:

- `webapp/server.py`
- `webapp/requirements.txt`
- `webapp/.env` (—Å–æ–∑–¥–∞–π—Ç–µ, –µ—Å–ª–∏ –Ω–µ—Ç)

---

## üñ•Ô∏è –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### 3.1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh root@–í–ê–®_IP_–ê–î–†–ï–°
```

–ò–ª–∏ –µ—Å–ª–∏ —Å–æ–∑–¥–∞–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```bash
ssh botuser@–í–ê–®_IP_–ê–î–†–ï–°
```

### 3.2. –û–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É

```bash
sudo apt update
sudo apt upgrade -y
```

### 3.3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã

```bash
sudo apt install -y python3 python3-pip python3-venv nginx certbot python3-certbot-nginx git ufw
```

### 3.4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª

```bash
sudo ufw allow 22/tcp
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw enable
sudo ufw status
```

### 3.5. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–ª–∏)

```bash
adduser botuser
usermod -aG sudo botuser
su - botuser
```

---

## üåê –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS (–ø—Ä–∏–≤—è–∑–∫–∞ –¥–æ–º–µ–Ω–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É)

–≠—Ç–æ—Ç —à–∞–≥ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å **–î–û** –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤, —á—Ç–æ–±—ã DNS —É—Å–ø–µ–ª –æ–±–Ω–æ–≤–∏—Ç—å—Å—è.

### 4.1. –£–∑–Ω–∞–π—Ç–µ IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
curl ifconfig.me
```

–ò–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞—à–µ–≥–æ VPS –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.

**–ó–∞–ø–∏—à–∏—Ç–µ IP –∞–¥—Ä–µ—Å!** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `157.230.123.45`)

### 4.2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –∑–∞–ø–∏—Å–∏

–í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞—à–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–º–µ–Ω–∞ (Namecheap, GoDaddy, Reg.ru –∏ —Ç.–¥.).

#### –î–ª—è Namecheap:

1. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
2. Domain List ‚Üí Manage (—Ä—è–¥–æ–º —Å –≤–∞—à–∏–º –¥–æ–º–µ–Ω–æ–º)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"Advanced DNS"**
4. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **"Host Records"**

5. **–î–æ–±–∞–≤—å—Ç–µ A-–∑–∞–ø–∏—Å—å –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞:**

   - Type: `A Record`
   - Host: `@` (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)
   - Value: **IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞**
   - TTL: `Automatic` (–∏–ª–∏ 300)
   - –ù–∞–∂–º–∏—Ç–µ "Save"

6. **–î–æ–±–∞–≤—å—Ç–µ A-–∑–∞–ø–∏—Å—å –¥–ª—è www:**
   - Type: `A Record`
   - Host: `www`
   - Value: **IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞**
   - TTL: `Automatic`
   - –ù–∞–∂–º–∏—Ç–µ "Save"

#### –î–ª—è –¥—Ä—É–≥–∏—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:

–ò—â–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "DNS Management", "DNS Settings" –∏–ª–∏ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ DNS".

–î–æ–±–∞–≤—å—Ç–µ –¥–≤–µ A-–∑–∞–ø–∏—Å–∏:

- `@` ‚Üí IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
- `www` ‚Üí IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞

### 4.3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS

–ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-30 –º–∏–Ω—É—Ç (DNS –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ), –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://dnschecker.org/
2. –í–≤–µ–¥–∏—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∑–∞–ø–∏—Å–∏: `A`
4. –ù–∞–∂–º–∏—Ç–µ "Search"
5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–µ—Ä—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≤–∞—à IP –∞–¥—Ä–µ—Å

**–í–∞–∂–Ω–æ:** –ù–µ –ø—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ, –ø–æ–∫–∞ DNS –Ω–µ –æ–±–Ω–æ–≤–∏—Ç—Å—è!

---

## üì§ –®–∞–≥ 5: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### 5.1. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –±–æ—Ç–∞
mkdir -p ~/telegram-bot
cd ~/telegram-bot

# –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è Web App
mkdir -p ~/video-upload-webapp
```

### 5.2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –±–æ—Ç–∞

**–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ SCP (—Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞)**

–ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (Windows PowerShell –∏–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª):

```powershell
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –±–æ—Ç–∞
scp bot.py video_converter.py text_generator.py requirements.txt botuser@–í–ê–®_IP:/home/botuser/telegram-bot/

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ .env —Ñ–∞–π–ª (–±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—à–µ–Ω –ø–∞—Ä–æ–ª—å)
scp .env botuser@–í–ê–®_IP:/home/botuser/telegram-bot/
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ SFTP (FileZilla, WinSCP)**

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ FileZilla: https://filezilla-project.org/
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å:
   - Host: `sftp://–í–ê–®_IP`
   - Username: `botuser`
   - Password: –≤–∞—à –ø–∞—Ä–æ–ª—å
3. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã:
   - `bot.py`, `video_converter.py`, `text_generator.py`, `requirements.txt` ‚Üí `/home/botuser/telegram-bot/`
   - `.env` ‚Üí `/home/botuser/telegram-bot/`

**–í–∞—Ä–∏–∞–Ω—Ç C: –ß–µ—Ä–µ–∑ Git (–µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)**

```bash
cd ~/telegram-bot
git clone https://github.com/–≤–∞—à-username/–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.git .
```

### 5.3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã Web App backend

```powershell
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã Web App
scp -r webapp/* botuser@–í–ê–®_IP:/home/botuser/video-upload-webapp/webapp/
```

–ò–ª–∏ —á–µ—Ä–µ–∑ FileZilla:

- `webapp/server.py` ‚Üí `/home/botuser/video-upload-webapp/webapp/`
- `webapp/requirements.txt` ‚Üí `/home/botuser/video-upload-webapp/webapp/`
- `webapp/.env` ‚Üí `/home/botuser/video-upload-webapp/webapp/`

### 5.4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
ls -la ~/telegram-bot/
ls -la ~/video-upload-webapp/webapp/
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã.

---

## ‚öôÔ∏è –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### 6.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞

```bash
cd ~/telegram-bot

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install --upgrade pip
pip install -r requirements.txt

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
nano .env
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω:

```env
VIDEO_WEBAPP_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.com/upload
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, `Enter`, `Ctrl+X`

### 6.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Web App backend

```bash
cd ~/video-upload-webapp

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cd webapp
pip install --upgrade pip
pip install -r requirements.txt

# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –≤–∏–¥–µ–æ
cd ~/video-upload-webapp
mkdir -p videos
chmod 755 videos

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
nano webapp/.env
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `webapp/.env` —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω:

```env
PUBLIC_BASE_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.com
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, `Enter`, `Ctrl+X`

### 6.3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∑–∞–ø—É—Å–∫ (–≤—Ä—É—á–Ω—É—é)

#### –¢–µ—Å—Ç backend:

```bash
cd ~/video-upload-webapp/webapp
source ~/video-upload-webapp/venv/bin/activate
python server.py
```

–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç, –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: `Ctrl+C`

#### –¢–µ—Å—Ç –±–æ—Ç–∞:

```bash
cd ~/telegram-bot
source venv/bin/activate
python bot.py
```

–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç, –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: `Ctrl+C`

---

## üåê –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –∏ SSL

### 7.1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx

```bash
sudo nano /etc/nginx/sites-available/video-upload
```

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ (–∑–∞–º–µ–Ω–∏—Ç–µ `–≤–∞—à-–¥–æ–º–µ–Ω.com` –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω):

```nginx
server {
    listen 80;
    server_name ikurganskiy.ru www.ikurganskiy.ru;

    # –õ–æ–≥–∏
    access_log /var/log/nginx/video-upload-access.log;
    error_log /var/log/nginx/video-upload-error.log;

    # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ (2GB)
    client_max_body_size 2G;
    client_body_timeout 300s;

    # –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ backend
    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;

        # –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        proxy_read_timeout 300s;
    }

    # –†–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤–∏–¥–µ–æ —Ñ–∞–π–ª–æ–≤
    location /videos/ {
        alias /home/botuser/video-upload-webapp/videos/;

        # –ó–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –≤–∏–¥–µ–æ
        add_header Content-Type video/mp4;
        add_header Accept-Ranges bytes;

        # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
        expires 30d;
        add_header Cache-Control "public, immutable";

        # CORS
        add_header Access-Control-Allow-Origin *;
    }
}
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, `Enter`, `Ctrl+X`

### 7.2. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
sudo ln -s /etc/nginx/sites-available/video-upload /etc/nginx/sites-enabled/
sudo rm /etc/nginx/sites-enabled/default  # –£–¥–∞–ª–∏—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
```

### 7.3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
sudo nginx -t
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `nginx: configuration file /etc/nginx/nginx.conf test is successful`

### 7.4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Nginx

```bash
sudo systemctl restart nginx
```

### 7.5. –ü–æ–ª—É—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (HTTPS)

```bash
sudo certbot --nginx -d –≤–∞—à-–¥–æ–º–µ–Ω.com -d www.–≤–∞—à-–¥–æ–º–µ–Ω.com
```

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:

- –í–≤–µ–¥–∏—Ç–µ email
- –°–æ–≥–ª–∞—Å–∏—Ç–µ—Å—å —Å —É—Å–ª–æ–≤–∏—è–º–∏ (A)
- –í—ã–±–µ—Ä–∏—Ç–µ, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –ª–∏ HTTP –Ω–∞ HTTPS (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: 2)

### 7.6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
sudo certbot renew --dry-run
```

---

## üîÑ –®–∞–≥ 8: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

### 8.1. –°–æ–∑–¥–∞–π—Ç–µ service –¥–ª—è –±–æ—Ç–∞

```bash
sudo nano /etc/systemd/system/telegram-bot.service
```

–î–æ–±–∞–≤—å—Ç–µ:

```ini
[Unit]
Description=Telegram Bot
After=network.target

[Service]
Type=simple
User=botuser
WorkingDirectory=/home/botuser/telegram-bot
Environment="PATH=/home/botuser/telegram-bot/venv/bin"
ExecStart=/home/botuser/telegram-bot/venv/bin/python /home/botuser/telegram-bot/bot.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, `Enter`, `Ctrl+X`

### 8.2. –°–æ–∑–¥–∞–π—Ç–µ service –¥–ª—è Web App backend

```bash
sudo nano /etc/systemd/system/video-upload-webapp.service
```

–î–æ–±–∞–≤—å—Ç–µ:

```ini
[Unit]
Description=Video Upload WebApp Backend
After=network.target

[Service]
Type=simple
User=botuser
WorkingDirectory=/home/botuser/video-upload-webapp/webapp
Environment="PATH=/home/botuser/video-upload-webapp/venv/bin"
ExecStart=/home/botuser/video-upload-webapp/venv/bin/uvicorn server:app --host 0.0.0.0 --port 8000
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, `Enter`, `Ctrl+X`

### 8.3. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ systemd
sudo systemctl daemon-reload

# –í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl enable telegram-bot
sudo systemctl enable video-upload-webapp

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã
sudo systemctl start telegram-bot
sudo systemctl start video-upload-webapp
```

### 8.4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å

```bash
sudo systemctl status telegram-bot
sudo systemctl status video-upload-webapp
```

–û–±–∞ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `active (running)`

---

## ‚úÖ –®–∞–≥ 9: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### 9.1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://–≤–∞—à-–¥–æ–º–µ–Ω.com/upload`

–î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ.

### 9.2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ health endpoint

```bash
curl https://–≤–∞—à-–¥–æ–º–µ–Ω.com/health
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON: `{"status":"ok",...}`

### 9.3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–æ—Ç–∞ –≤ Telegram

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –±–æ—Ç–∞
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. **–î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ "üé¨ –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤–∏–¥–µ–æ"**
4. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ—ë
5. –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è Web App —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∑–∫–∏

### 9.4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –≤–∏–¥–µ–æ

1. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Web App –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥–µ–æ —Ñ–∞–π–ª
2. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –≤–∏–¥–µ–æ"
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≥—Ä—É–∑–∫–∏
4. –ù–∞–∂–º–∏—Ç–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –≤ Telegram"
5. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–∞–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø—Ä—è–º–æ–π —Å—Å—ã–ª–∫–æ–π –Ω–∞ –≤–∏–¥–µ–æ

### 9.5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –≤–∏–¥–µ–æ (—á–µ—Ä–µ–∑ –æ–±—ã—á–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É)
2. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω —Å–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ MP4 1920x1080

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
sudo journalctl -u telegram-bot -n 50

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat ~/telegram-bot/.env
```

### Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
sudo journalctl -u video-upload-webapp -n 50

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat ~/video-upload-webapp/webapp/.env
```

### Web App –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS: https://dnschecker.org/
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç: `sudo systemctl status nginx`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Nginx: `sudo tail -f /var/log/nginx/video-upload-error.log`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend —Ä–∞–±–æ—Ç–∞–µ—Ç: `sudo systemctl status video-upload-webapp`

### –û—à–∏–±–∫–∞ SSL

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo certbot certificates

# –û–±–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤—Ä—É—á–Ω—É—é
sudo certbot renew
```

---

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –õ–æ–≥–∏ –±–æ—Ç–∞
sudo journalctl -u telegram-bot -f

# –õ–æ–≥–∏ backend
sudo journalctl -u video-upload-webapp -f

# –õ–æ–≥–∏ Nginx
sudo tail -f /var/log/nginx/video-upload-error.log
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
sudo systemctl restart telegram-bot
sudo systemctl restart video-upload-webapp
sudo systemctl restart nginx
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã
sudo systemctl stop telegram-bot
sudo systemctl stop video-upload-webapp

# –û–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª—ã (—á–µ—Ä–µ–∑ git pull –∏–ª–∏ scp)

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
cd ~/telegram-bot
source venv/bin/activate
pip install -r requirements.txt

cd ~/video-upload-webapp/webapp
source ~/video-upload-webapp/venv/bin/activate
pip install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã
sudo systemctl start telegram-bot
sudo systemctl start video-upload-webapp
```

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤–∞—à –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ 24/7 —Å –≤–∞—à–∏–º –¥–æ–º–µ–Ω–æ–º!

**–ß—Ç–æ –¥–∞–ª—å—à–µ:**

- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–∏—Å—Ç–µ–º—É: `sudo apt update && sudo apt upgrade`
